<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>graf</title>
<script type="text/javascript" src="graph.js"></script>
<script type="text/javascript">
var g = new Graph(["A","B","Hello","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],[[0,1],[1,2],[25,0],[10,20]]);
var gvm = new GraphViewModel(g);
var panning = false;
var cgv;
function onLoad() {
	//var canvas = document.createElement("canvas");
	//document.body.appendChild(canvas);
	cgv = new CanvasGraphView(gvm, document.getElementById("canvas"));
	
	cgv.textChanged.push(function(text) {
		var input = document.getElementById("input");
		input.disabled = text === null ? "disabled" : "";
		input.value = text;
		if (text !== null) {
			input.focus();
			input.select();
		}
	});
	
	var sizeCanvas = function() {
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		cgv.render();
	}
	window.onresize = sizeCanvas;
	sizeCanvas();
}
function onTextChange(event) {
	var input = document.getElementById("input");
	cgv.setText(input.value);
	return true;
}
</script>
<style type="text/css">
body { margin: 0px; font-family: helvetica, sans-serif }
canvas { position: absolute; z-index: 0; }
div#toolbar { float:left; position: absolute; padding: 2px; z-index: 1 }
</style>
</head>
<body onload="return onLoad();">
<div id="toolbar">
	<input id="input" type="text" onchange="return onTextChange();" disabled="disabled"/>
</div>
<canvas id="canvas"></canvas>
</body>
</html>